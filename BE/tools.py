# tools.py
from langchain_core.tools import tool

# --- Medication Tools ---
@tool
def get_diabetes_medication(query: str) -> str:
    """Use ONLY for Diabetes (à¹€à¸šà¸²à¸«à¸§à¸²à¸™) medication details."""
    return """
    à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸¢à¸²à¹€à¸šà¸²à¸«à¸§à¸²à¸™ (Diabetes Meds):
    1. **à¸¢à¸²à¹€à¸¡à¹‡à¸”à¸ªà¸µà¸‚à¸²à¸§ (Metformin)**: à¸—à¸²à¸™à¸«à¸¥à¸±à¸‡à¸­à¸²à¸«à¸²à¸£à¸—à¸±à¸™à¸—à¸µ (à¹€à¸Šà¹‰à¸²-à¹€à¸¢à¹‡à¸™) à¸Šà¹ˆà¸§à¸¢à¸¥à¸”à¸™à¹‰à¸³à¸•à¸²à¸¥
    2. **à¸¢à¸²à¹€à¸¡à¹‡à¸”à¹€à¸¥à¹‡à¸à¸ªà¸µà¸‚à¸²à¸§/à¹€à¸«à¸¥à¸·à¸­à¸‡ (Glipizide)**: *à¸ªà¸³à¸„à¸±à¸* à¸—à¸²à¸™à¸à¹ˆà¸­à¸™à¸­à¸²à¸«à¸²à¸£ 30 à¸™à¸²à¸—à¸µ (à¹€à¸Šà¹‰à¸²) à¸à¸£à¸°à¸•à¸¸à¹‰à¸™à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™
    3. **à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™**: à¸¢à¸²à¸‰à¸µà¸”à¸•à¸²à¸¡à¹€à¸§à¸¥à¸²à¹à¸à¸—à¸¢à¹Œà¸ªà¸±à¹ˆà¸‡

    **à¸„à¸§à¸²à¸¡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¹‚à¸¢à¸‡à¸à¸±à¸šà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸­à¸·à¹ˆà¸™ (Cross-References)**:
    - **à¸à¸±à¸šà¸­à¸²à¸«à¸²à¸£ (Diet)**: à¸ªà¸³à¸«à¸£à¸±à¸šà¸¢à¸² Glipizide à¹à¸¥à¸°à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™ **"à¸«à¹‰à¸²à¸¡à¸‡à¸”à¸¡à¸·à¹‰à¸­à¸­à¸²à¸«à¸²à¸£à¹€à¸”à¹‡à¸”à¸‚à¸²à¸”"** à¸•à¹‰à¸­à¸‡à¸à¸´à¸™à¸•à¸²à¸¡à¹€à¸§à¸¥à¸²à¹ƒà¸™ Diet Tools à¸‚à¹‰à¸­ 4 à¸¡à¸´à¸‰à¸°à¸™à¸±à¹‰à¸™à¸ˆà¸°à¹€à¸à¸´à¸”à¸ à¸²à¸§à¸°à¸™à¹‰à¸³à¸•à¸²à¸¥à¸•à¸ (Hypoglycemia)
    - **à¸à¸±à¸šà¸à¸²à¸£à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢ (Exercise)**: à¸«à¸²à¸à¸—à¸²à¸™à¸¢à¸² Glipizide à¸«à¸£à¸·à¸­à¸‰à¸µà¸”à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™ à¸„à¸§à¸£à¹€à¸Šà¹‡à¸à¸™à¹‰à¸³à¸•à¸²à¸¥à¸à¹ˆà¸­à¸™à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¹€à¸ªà¸¡à¸­ à¹€à¸à¸£à¸²à¸°à¸¢à¸²à¸¡à¸µà¸¤à¸—à¸˜à¸´à¹Œà¸—à¸³à¹ƒà¸«à¹‰à¸™à¹‰à¸³à¸•à¸²à¸¥à¸•à¹ˆà¸³à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢à¸à¸§à¹ˆà¸²à¸›à¸à¸•à¸´
    - **à¸à¸±à¸šà¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡ (Transport)**: à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™à¸•à¹‰à¸­à¸‡à¸£à¸°à¸§à¸±à¸‡à¸­à¸¸à¸“à¸«à¸ à¸¹à¸¡à¸´ (à¸«à¹‰à¸²à¸¡à¹‚à¸«à¸¥à¸”à¹ƒà¸•à¹‰à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡) à¸•à¸²à¸¡ Transport Tools
    """

# --- Exercise Tools ---
@tool
def get_diabetes_exercise(query: str) -> str:
    """Use ONLY for Diabetes (à¹€à¸šà¸²à¸«à¸§à¸²à¸™) exercise."""
    return """
    à¸à¸²à¸£à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¹€à¸šà¸²à¸«à¸§à¸²à¸™ (Diabetes Exercise):
    1. **à¸›à¸£à¸°à¹€à¸ à¸—**: à¹à¸­à¹‚à¸£à¸šà¸´à¸ 30 à¸™à¸²à¸—à¸µ/à¸§à¸±à¸™ + à¹€à¸§à¸—à¹€à¸—à¸£à¸™à¸™à¸´à¹ˆà¸‡à¹€à¸šà¸²à¹†
    2. **à¸‚à¹‰à¸­à¸„à¸§à¸£à¸£à¸°à¸§à¸±à¸‡à¸à¸´à¹€à¸¨à¸©**:
       - à¸«à¹‰à¸²à¸¡à¹€à¸”à¸´à¸™à¹€à¸—à¹‰à¸²à¹€à¸›à¸¥à¹ˆà¸² (à¸£à¸°à¸§à¸±à¸‡à¹à¸œà¸¥)
       - à¹€à¸Šà¹‡à¸à¸™à¹‰à¸³à¸•à¸²à¸¥: à¸–à¹‰à¸²à¸•à¹ˆà¸³à¸à¸§à¹ˆà¸² 100 mg/dL à¹ƒà¸«à¹‰à¸‡à¸” à¸«à¸£à¸·à¸­à¸«à¸²à¸­à¸°à¹„à¸£à¸—à¸²à¸™à¸à¹ˆà¸­à¸™

    **à¸„à¸§à¸²à¸¡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¹‚à¸¢à¸‡à¸à¸±à¸šà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸­à¸·à¹ˆà¸™ (Cross-References)**:
    - **à¸à¸±à¸šà¸¢à¸² (Meds)**: à¸«à¸²à¸à¹ƒà¸Šà¹‰à¸¢à¸²à¸—à¸µà¹ˆà¸à¸£à¸°à¸•à¸¸à¹‰à¸™à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™ (Glipizide/Insulin) à¸à¸²à¸£à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¸«à¸™à¸±à¸à¸­à¸²à¸ˆà¸—à¸³à¹ƒà¸«à¹‰à¸™à¹‰à¸³à¸•à¸²à¸¥à¸•à¸à¸§à¸¹à¸šà¹„à¸”à¹‰ à¸•à¹‰à¸­à¸‡à¸à¸à¸™à¹‰à¸³à¸«à¸§à¸²à¸™à¸•à¸´à¸”à¸•à¸±à¸§à¹€à¸ªà¸¡à¸­
    - **à¸à¸±à¸šà¸­à¸²à¸«à¸²à¸£ (Diet)**: à¸«à¸²à¸à¸§à¸²à¸‡à¹à¸œà¸™à¸ˆà¸°à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¸«à¸™à¸±à¸ à¸„à¸§à¸£à¸—à¸²à¸™à¸„à¸²à¸£à¹Œà¹‚à¸šà¹„à¸®à¹€à¸”à¸£à¸•à¹€à¸Šà¸´à¸‡à¸‹à¹‰à¸­à¸™ (à¸‚à¹‰à¸²à¸§à¹„à¸¡à¹ˆà¸‚à¸±à¸”à¸ªà¸µ) à¹ƒà¸™à¸¡à¸·à¹‰à¸­à¸à¹ˆà¸­à¸™à¸«à¸™à¹‰à¸²à¹ƒà¸«à¹‰à¸­à¸´à¹ˆà¸¡à¸à¸­à¸”à¸µ à¹€à¸à¸·à¹ˆà¸­à¹€à¸›à¹‡à¸™à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™à¸ªà¸°à¸ªà¸¡
    - **à¸à¸±à¸šà¹€à¸—à¹‰à¸²**: à¸ªà¸±à¸¡à¸à¸±à¸™à¸˜à¹Œà¸à¸±à¸šà¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡ (Transport) à¸„à¸·à¸­à¸•à¹‰à¸­à¸‡à¹€à¸¥à¸·à¸­à¸à¸£à¸­à¸‡à¹€à¸—à¹‰à¸²à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡à¸—à¸±à¹‰à¸‡à¸•à¸­à¸™à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¹à¸¥à¸°à¸•à¸­à¸™à¸™à¸±à¹ˆà¸‡à¸£à¸–à¸™à¸²à¸™à¹†
    """

# --- Diet Tools ---
@tool
def get_diabetes_diet(query: str) -> str:
    """Use ONLY for Diabetes (à¹€à¸šà¸²à¸«à¸§à¸²à¸™) diet."""
    return """
    à¸­à¸²à¸«à¸²à¸£à¹€à¸šà¸²à¸«à¸§à¸²à¸™ (Diabetes Diet):
    1. **à¸ªà¸¹à¸•à¸£ 2:1:1**: à¸œà¸±à¸ 2 : à¸‚à¹‰à¸²à¸§ 1 : à¹€à¸™à¸·à¹‰à¸­ 1
    2. **à¸œà¸¥à¹„à¸¡à¹‰**: à¹€à¸¥à¸µà¹ˆà¸¢à¸‡à¸œà¸¥à¹„à¸¡à¹‰à¸«à¸§à¸²à¸™à¸ˆà¸±à¸” (à¸—à¸¸à¹€à¸£à¸µà¸¢à¸™, à¸¥à¸³à¹„à¸¢) à¸—à¸²à¸™à¸à¸£à¸±à¹ˆà¸‡/à¹à¸à¹‰à¸§à¸¡à¸±à¸‡à¸à¸£à¹„à¸”à¹‰
    3. **à¸à¸²à¸£à¸à¸´à¸™**: à¸à¸´à¸™à¹ƒà¸«à¹‰à¸•à¸£à¸‡à¹€à¸§à¸¥à¸² à¸«à¹‰à¸²à¸¡à¸­à¸”à¸¡à¸·à¹‰à¸­à¸à¸´à¸™à¸¡à¸·à¹‰à¸­

    **à¸„à¸§à¸²à¸¡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¹‚à¸¢à¸‡à¸à¸±à¸šà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸­à¸·à¹ˆà¸™ (Cross-References)**:
    - **à¸à¸±à¸šà¸¢à¸² (Meds)**: à¸­à¸²à¸«à¸²à¸£à¸„à¸·à¸­à¸•à¸±à¸§à¸à¸±à¸™à¸à¸£à¸°à¹à¸—à¸à¸‚à¸­à¸‡à¸¢à¸²à¹€à¸šà¸²à¸«à¸§à¸²à¸™ à¸«à¸²à¸à¸à¸´à¸™à¸‚à¹‰à¸²à¸§à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¸›à¸à¸•à¸´à¹à¸•à¹ˆà¸à¸´à¸™à¸¢à¸²à¹€à¸—à¹ˆà¸²à¹€à¸”à¸´à¸¡ à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸Šà¹‡à¸­à¸à¸™à¹‰à¸³à¸•à¸²à¸¥à¸•à¹ˆà¸³
    - **à¸à¸±à¸šà¸à¸²à¸£à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢ (Exercise)**: à¸«à¸²à¸à¸§à¸±à¸™à¹„à¸«à¸™à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¹€à¸¢à¸­à¸° à¸­à¸™à¸¸à¸à¸²à¸•à¹ƒà¸«à¹‰à¹€à¸à¸´à¹ˆà¸¡à¸œà¸¥à¹„à¸¡à¹‰à¸£à¸ªà¹„à¸¡à¹ˆà¸«à¸§à¸²à¸™ 1 à¸ªà¹ˆà¸§à¸™à¸«à¸¥à¸±à¸‡à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢à¹„à¸”à¹‰à¹€à¸à¸·à¹ˆà¸­à¸Šà¸”à¹€à¸Šà¸¢à¸à¸¥à¸±à¸‡à¸‡à¸²à¸™
    - **à¸à¸±à¸šà¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡ (Transport)**: à¸­à¸²à¸«à¸²à¸£à¸§à¹ˆà¸²à¸‡/à¸¥à¸¹à¸à¸­à¸¡ à¹€à¸›à¹‡à¸™à¸ªà¸´à¹ˆà¸‡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸à¸•à¸´à¸”à¸à¸£à¸°à¹€à¸›à¹‹à¸²à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸ªà¸¡à¸­ à¹„à¸§à¹‰à¹à¸à¹‰à¸—à¸²à¸‡à¸¢à¸²à¹€à¸¡à¸·à¹ˆà¸­à¸£à¸–à¸•à¸´à¸”à¸«à¸£à¸·à¸­à¸œà¸´à¸”à¹€à¸§à¸¥à¸²à¸­à¸²à¸«à¸²à¸£
    """

# --- Transport Tools ---
@tool
def get_diabetes_transport(query: str) -> str:
    """Use ONLY for Diabetes (à¹€à¸šà¸²à¸«à¸§à¸²à¸™) transport/travel."""
    return """
    à¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹€à¸šà¸²à¸«à¸§à¸²à¸™ (Diabetes Travel):
    1. **à¸à¸²à¸£à¸à¸à¸¢à¸²**: à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™à¸«à¹‰à¸²à¸¡à¹‚à¸«à¸¥à¸”à¹ƒà¸•à¹‰à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡ (à¸ˆà¸°à¹à¸‚à¹‡à¸‡/à¸¢à¸²à¹€à¸ªà¸·à¹ˆà¸­à¸¡)
    2. **à¹€à¸­à¸à¸ªà¸²à¸£**: à¸à¸à¹ƒà¸šà¸£à¸±à¸šà¸£à¸­à¸‡à¹à¸à¸—à¸¢à¹Œ (Medical ID)
    3. **à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¹€à¸”à¸´à¸™à¸—à¸²à¸‡**: à¸à¸à¸™à¹‰à¸³à¸«à¸§à¸²à¸™/à¸¥à¸¹à¸à¸­à¸¡ à¸•à¸´à¸”à¸•à¸±à¸§à¹€à¸ªà¸¡à¸­

    **à¸„à¸§à¸²à¸¡à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¹‚à¸¢à¸‡à¸à¸±à¸šà¹€à¸£à¸·à¹ˆà¸­à¸‡à¸­à¸·à¹ˆà¸™ (Cross-References)**:
    - **à¸à¸±à¸šà¸¢à¸² (Meds)**: à¸à¸²à¸£à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¸‚à¹‰à¸²à¸¡ Time Zone à¸­à¸²à¸ˆà¸•à¹‰à¸­à¸‡à¸›à¸£à¸¶à¸à¸©à¸²à¹à¸à¸—à¸¢à¹Œà¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸±à¸šà¹€à¸§à¸¥à¸²à¸à¸²à¸£à¸‰à¸µà¸”à¸­à¸´à¸™à¸‹à¸¹à¸¥à¸´à¸™/à¸à¸´à¸™à¸¢à¸²à¹ƒà¸«à¸¡à¹ˆ
    - **à¸à¸±à¸šà¸­à¸²à¸«à¸²à¸£ (Diet)**: à¸«à¸²à¸à¹€à¸”à¸´à¸™à¸—à¸²à¸‡à¹à¸¥à¹‰à¸§à¸«à¸²à¸­à¸²à¸«à¸²à¸£à¸ªà¸¸à¸‚à¸ à¸²à¸ (2:1:1) à¸¢à¸²à¸ à¹ƒà¸«à¹‰à¹€à¸™à¹‰à¸™ "à¸¥à¸”à¸‚à¹‰à¸²à¸§-à¸‡à¸”à¸™à¹‰à¸³à¸«à¸§à¸²à¸™" à¹„à¸§à¹‰à¸à¹ˆà¸­à¸™à¹€à¸à¸·à¹ˆà¸­à¸„à¸§à¸²à¸¡à¸›à¸¥à¸­à¸”à¸ à¸±à¸¢
    - **à¸à¸±à¸šà¸à¸²à¸£à¸­à¸­à¸à¸à¸³à¸¥à¸±à¸‡à¸à¸²à¸¢ (Exercise)**: à¸«à¸²à¸à¸™à¸±à¹ˆà¸‡à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸šà¸´à¸™/à¸£à¸–à¸™à¸²à¸™à¹€à¸à¸´à¸™ 2 à¸Šà¸¡. à¹ƒà¸«à¹‰à¸‚à¸¢à¸±à¸šà¸‚à¸²à¸šà¸£à¸´à¸«à¸²à¸£à¹€à¸—à¹‰à¸² (à¹€à¸«à¸¡à¸·à¸­à¸™à¸—à¹ˆà¸²à¸à¸²à¸¢à¸šà¸£à¸´à¸«à¸²à¸£à¹€à¸šà¸²à¹†) à¹€à¸à¸·à¹ˆà¸­à¹€à¸¥à¸·à¸­à¸”à¹„à¸«à¸¥à¹€à¸§à¸µà¸¢à¸™ à¸¥à¸”à¸„à¸§à¸²à¸¡à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¹à¸œà¸¥à¸—à¸µà¹ˆà¹€à¸—à¹‰à¸²
    """

# --- Appointment Tools ---
@tool
def reschedule_appointment(new_date: str) -> str:
    """
    Use this tool ONLY when the user provides a specific 'date' for rescheduling.
    If no date is provided, ASK the user first.
    """
    return f"""
    âœ… à¸£à¸°à¸šà¸šà¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¹€à¸¥à¸·à¹ˆà¸­à¸™à¸™à¸±à¸”à¹ƒà¸«à¹‰à¹€à¸£à¸µà¸¢à¸šà¸£à¹‰à¸­à¸¢à¹à¸¥à¹‰à¸§à¸„à¸£à¸±à¸š
    ğŸ“… à¸§à¸±à¸™à¸™à¸±à¸”à¸«à¸¡à¸²à¸¢à¹ƒà¸«à¸¡à¹ˆ: {new_date}
    ğŸ”— à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸ªà¸–à¸²à¸™à¸°: xxx.com
    """

# --- Bundles ---
med_tools = [get_diabetes_medication]
exercise_tools = [get_diabetes_exercise]
diet_tools = [get_diabetes_diet]
transport_tools = [get_diabetes_transport]
appointment_tools = [reschedule_appointment]